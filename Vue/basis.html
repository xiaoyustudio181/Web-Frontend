<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vue basis</title>
    <script src="vue.js"></script>
</head>
<body>
<a id="a1"></a>
<script>//引用关系
var data1 = { v1: 1 };
var vm = new Vue({
    el: '#a1',
    data: data1
});
//msg( vm.v1 === data1.v1 ); //true
//msg( vm.$data === data1 ); //true
//msg( vm.$el === document.getElementById('a1') ); //true
</script>
<!--
v-bind:class="[activeClass,errorClass]"
v-bind:class="[false?activeClass:'',errorClass]"
当在一个自定义组件上使用 class 属性时，这些类将被添加到该组件的根元素上面。

<div :style="{ display: ['-webkit-box', '-ms-flexbox', 'flex'] }"></div>
这样写只会渲染数组中最后一个被浏览器支持的值。
-->
<div id="app1" class="default1" v-bind:class="classObj" v-bind:style="styleObj"
     v-bind:title="title" v-if="exist" v-show="seen">

    <span v-html="bTag">{{bTag}}</span>
    <hr />
    {{bTag}}
    <hr />
    {{bTag.split('').reverse().join('')}}
    <hr />
    {{reversebTag}}
    <hr />
    {{num+1}}
    <hr />
    {{ok?'ok':'not ok'}}
    <hr />

    <input type="text" v-model="msg" />
    {{msg}}
    <button v-on:click="reverseMsg">Reverse</button>
    <hr />

    <span v-once>{{once}}</span>
    <hr />
    {{fullName}}
    <hr />
    <span v-if="ok">yes</span><span v-else>no</span>
    <hr />
    <span v-if="msg == 'A'">A</span>
    <span v-else-if="msg == 'B'">B</span>
    <span v-else-if="msg == 'C'">C</span>
    <span v-else>no</span>
    <hr />

    <button v-on:click="toggleType">toggle</button>
    <template v-if="loginType == 'username'">
        <label>Username</label>
        <input placeholder="Enter username" key="1" />
        <!--用key作区分以免被复用(复用不会清除input已输入的内容)-->
    </template>
    <template v-else>
        <label>Email</label>
        <input placeholder="Enter email address" key="2" />
    </template>
    <hr />

    <button
            @keyup.enter="functioned"
            @keyup.page-down="functioned"
            @keyup.c="functioned"
            @keyup.alt.v="functioned">
        focus and press<br />
        Enter<br />
        or PageDown<br />
        or C<br />
        or Alt+V
    </button>

</div>
<script>
    var app = new Vue({
        el: '#app1',
        data: {
            title: "v-bind:title "+new Date().toLocaleString(),
            exist:1,//试执行app.seen1=false
            seen:true,//v-show只是切换CSS属性display，比起v-if更适用于频繁地切换，不支持<template>元素，不支持v-else
            classObj:{default2: true, 'default-3': true},//试执行app.classObj.default2=false
            activeClass:'active',
            errorClass:'text-danger',
            styleObj:{fontSize:'18px', border:'1px dotted'},
            bTag:'<b>Hello</b>',//在控制台执行：app.message1='hi'，查看响应式结果
            msg:'hello world',
            num:5,
            ok:true,//试执行app.ok=false
            once:'once value',
            loginType:'username',
            firstName:'Harry',
            lastName:'Potter'

        },
        mounted(){//加载后执行
            console.log('mounted.');
        },
        methods: {
            reverseMsg: function (event) {
                this.msg = this.msg.split('').reverse().join('');
                console.log(event.target.tagName);
            },
            toggleType:function () {
                if(this.loginType=='username')this.loginType='email';
                else this.loginType='username';
            },
            functioned:function () {
                alert('functioned');
            }
        },
        computed:{//计算属性，基于它们的依赖进行缓存
            reversebTag: function () {
                return this.bTag.split('').reverse().join('');
            },
            /*fullName:function () {//侦听属性的介绍，试改变firstName的值，查看结果
             return this.firstName+' '+this.lastName;
             }*/
            fullName:{
                get:function () {
                    return this.firstName+' '+this.lastName;
                },
                set:function (newValue) {//试执行app.fullName='aa bb'
                    var names = newValue.split(' ');
                    this.firstName = names[0];
                    this.lastName = names[names.length - 1];
                }
            }
        },
        watch:{
            firstName:function (newValue,oldValue) {//回调将在 firstName 改变后调用
                console.log('firstName: '+oldValue+" => "+newValue);
            }
        }
    });
    /*
     v-bind: 绑定值，缩写 :
     v-if= 插入/移除
     v-html= 输出真HTML
     v-model= 双向绑定
     v-on:click= 点击事件，缩写 @click
     v-once 绑定不可改值
     v-for= 遍历
     */
    /*【事件修饰符】
     .stop .prevent. capture .self .once
     <a v-on:click.stop="doThis"></a> 阻止单击事件继续传播
     <form v-on:submit.prevent="onSubmit"></form> 提交事件不再重载页面
     <a v-on:click.stop.prevent="doThat"></a> 修饰符可以串联
     <form v-on:submit.prevent></form> 只有修饰符

     <div v-on:click.capture="doThis">...</div>
     添加事件监听器时使用事件捕获模式 -->
     即内部元素触发的事件先在此处处理，然后才交由内部元素自身进行处理

     <div v-on:click.self="doThat">...</div>
     只当在 event.target 是当前元素自身时触发处理函数
     即事件不是从内部元素触发的

     <a v-on:click.once="doThis"></a> 点击事件将只会触发一次
     使用修饰符时，顺序很重要；相应的代码会以同样的顺序产生。因此，用 @click.prevent.self 会阻止所有的点击，而 @click.self.prevent 只会阻止对元素自身的点击。
     */
    /*【修饰符】
     .lazy .number .trim
     修饰符 lazy ，变为在 change 事件中同步：(在 "change" 而不是 "input" 事件中更新 )
     <input v-model.lazy="msg" >
     如果想自动将用户的输入值转为 Number 类型 (如果原值的转换结果为 NaN 则返回原值)，可以添加一个修饰符 number 给 v-model 来处理输入值：
     <input v-model.number="age" type="number">
     如果要自动过滤用户输入的首尾空格，可以添加 trim 修饰符到 v-model 上过滤输入：
     <input v-model.trim="msg">
     */
    /*【按键别名】
     .enter
     .tab
     .delete (捕获“删除”和“退格”键)
     .esc
     .space
     .up
     .down
     .left
     .right
     可以通过全局 config.keyCodes 对象自定义按键修饰符别名：
     Vue.config.keyCodes.f1 = 112

     .ctrl
     .alt
     .shift
     .meta
     */
</script>
</body>
</html>