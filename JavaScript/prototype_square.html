<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Square Object</title>
    <script src="helper.js"></script>
</head>
<body>
<div id="container" style="position: relative">

</div>
<script>
  //面向对象
  //数据与显示分层思想
  function Square(x, y) {//数据层
    this.x = x;
    this.y = y;
    this.step = 25;
  }

  Square.prototype.showPosition = function () {
    console.log('(' + this.x + ',' + this.y + ')');
  };
  Square.prototype.moveUp = function (y) {
    this.y -= y;
  };
  Square.prototype.moveDown = function (y) {
    this.y += y;
  };
  Square.prototype.moveLeft = function (x) {
    this.x -= x;
  };
  Square.prototype.moveRight = function (x) {
    this.x += x;
  };

  function HtmlSquare(x, y) {//显示层
    Square.call(this, x, y);//调用基类构造函数
    this.view = document.createElement('square');
    this.view.style.width = '50px';
    this.view.style.height = '50px';
    this.view.style.backgroundColor = 'skyblue';
    this.view.style.position = 'absolute';
    this.view.style.left = (this.x * this.step) + 'px';
    this.view.style.top = (this.y * this.step) + 'px';
    findID('container').appendChild(this.view);
  }

  HtmlSquare.prototype = new Square();//继承
  HtmlSquare.prototype.moveUp = function (y) {
    Square.prototype.moveUp.call(this, y);//调用基类方法
    this.view.style.top = (this.y * this.step) + 'px';
  };
  HtmlSquare.prototype.moveDown = function (y) {
    Square.prototype.moveDown.call(this, y);
    this.view.style.top = (this.y * this.step) + 'px';
  };
  HtmlSquare.prototype.moveLeft = function (x) {
    Square.prototype.moveLeft.call(this, x);
    this.view.style.left = (this.x * this.step) + 'px';
  };
  HtmlSquare.prototype.moveRight = function (x) {
    Square.prototype.moveRight.call(this, x);
    this.view.style.left = (this.x * this.step) + 'px';
  };

  var squ = new HtmlSquare(8, 5);

  document.onkeydown = function (e) {
    if (event.key === 'w') {
      squ.moveUp(1);
    }
    if (event.key === 's') {
      squ.moveDown(1);
    }
    if (event.key === 'a') {
      squ.moveLeft(1);
    }
    if (event.key === 'd') {
      squ.moveRight(1);
    }
  }
</script>
</body>
</html>