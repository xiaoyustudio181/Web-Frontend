<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript String</title>
    <script src="helper.js"></script>
</head>
<body>
<ol>
    <li>
        查看字符串的所有方法。<br/>
        <kbd>console.dir(String)</kbd>
    </li>
    <li>
        获取类型。typeof<br/>
        <kbd>
            var str = 'abc';<br/>
            typeof str<br/>
        </kbd>
    </li>
    <li>
        获取字符串的长度。length<br/>
        <kbd>
            str = 'abc';<br/>
            str.length
        </kbd>
    </li>
    <li>
        字符串连接(+)。concat<br/>
        <kbd>
            str = 'abc';<br/>
            str + '-de'<br/>
            str.concat('-de')<br/>
            str.concat('-de', '-fg')
        </kbd>
    </li>
    <li>
        返回指定索引处的字符。charAt<br/>
        <kbd>
            str = 'abc';<br/>
            str.charAt(1)
        </kbd>
    </li>
    <li>
        返回指定子串首次出现的索引。indexOf<br/>
        <kbd>
            str = 'abc';<br/>
            str.indexOf('b');
        </kbd>
    </li>
    <li>
        返回指定子串最后一次出现的索引。indexOf<br/>
        <kbd>
            str = 'abcb';<br/>
            str.lastIndexOf('b');
        </kbd>
    </li>
    <li>
        检查字符串是否以指定子串开始。startsWith<br/>
        <kbd>
            str = 'abcb';<br/>
            str.startsWith('ab');
        </kbd>
    </li>
    <li>
        检查字符串是否以指定子串结尾。endsWith<br/>
        <kbd>
            str = 'abcb';<br/>
            str.endsWith('cb');
        </kbd>
    </li>
    <li>
        检查字符串是否包含指定子串。includes<br/>
        <kbd>
            str = 'abcb';<br/>
            str.includes('bc');
        </kbd>
    </li>
    <li>
        从开头处插入字符串到指定长度。padStart<br/>
        <kbd>
            str = 'abc';<br/>
            str.padStart(10, 'p');
        </kbd>
    </li>
    <li>
        从结尾处插入字符串到指定长度。str.padEnd<br/>
        <kbd>
            str = 'abc';<br/>
            str.padEnd(10, 'p');
        </kbd>
    </li>
    <li>
        将字符串转为大写字母。toUpperCase<br/>
        <kbd>
            str = 'abc';<br/>
            str.toUpperCase();
        </kbd>
    </li>
    <li>
        将字符串转为小写字母。toLowerCase<br/>
        <kbd>
            str = 'ABC';<br/>
            str.toLowerCase();
        </kbd>
    </li>
    <li>
        重复连接自身指定次数。repeat<br/>
        <kbd>
            str = 'abc';<br/>
            str.repeat(2);
        </kbd>
    </li>
    <li>
        替换指定子串为新字符串。replace<br/>
        <kbd>
            str = 'abc';<br/>
            str.replace('c', '-ufo');
        </kbd>
    </li>
    <li>
        以指定字符串分隔成数组。str.split<br/>
        <kbd>
            str = 'a,b,c';<br/>
            str.split(',');<br/>
            str.split(',', 2);<br/>
        </kbd>
    </li>
    <li>
        返回截取的字符串。slice [start,end)<br/>
        <kbd>
            str='abc';<br/>
            str.slice(1);<br/>
            str.slice(1,2);<br/>
            str.slice(-1);<br/>
            str.slice(-2,-1);
        </kbd>
    </li>
    <li>
        返回截取的字符串。substr(start,[length])<br/>
        <kbd>
            str='abc';<br/>
            str.substr(1);<br/>
            str.substr(1,2);<br/>
            str.substr(-1);
        </kbd>
    </li>
    <li>
        返回截取的字符串（不支持负数索引）。substring(start,[end])<br/>
        <kbd>
            str='abc';<br/>
            str.substring(1);<br/>
            str.substring(1,2);
        </kbd>
    </li>
    <li>
        返回与正则表达式查找内容匹配的第一个子字符串的位置。search(regex)<br/>
        <kbd>
            str='abc';<br/>
            str.search(/c/);
        </kbd>
    </li>
    <li>
        返回正则表达式与字符串匹配的信息，没有返回null。match(regex)<br/>
        <kbd>
            str='abcde';<br/>
            str.match(/de$/);
        </kbd>
    </li>
    <li>
        移除字符串左右的空白符。trim<br/>
        <kbd>
            str=' abcde ';<br/>
            str.length<br/>
            str.trim().length;<br/>
            str.trimRight().length;<br/>
            str.trimLeft().length;
        </kbd>
    </li>
    <li>
        将字符串作为 URL 组件进行编码。encodeURIComponent<br/>
        <kbd>
            var str = 'http://www.baidu.com/';<br/>
            encodeURIComponent(str)
        </kbd>
    </li>
    <li>
        将字符串作为 URL 组件进行解码。decodeURIComponent<br/>
        <kbd>
            var url = 'http%3A%2F%2Fwww.baidu.com%2F';<br/>
            decodeURIComponent(url);
        </kbd>
    </li>
    <li>
        用\uxxxx形式表示一个字符，其中xxxx表示字符的 Unicode 码点。<br/>
        这种表示法只限于码点在\u0000~\uFFFF之间的字符。超出这个范围的字符，必须用两个双字节的形式表示。<br/>
        <samp>
            "\u0061" //"a"<br/>
            "\uD842\uDFB7" //"𠮷"<br/>
            "\u20BB7" //"₻7"，JavaScript 会理解成\u20BB+7。由于\u20BB是一个不可打印字符，所以只会显示一个空格，后面跟着一个7<br/>
            "\u{20BB7}" //"𠮷"
        </samp>
    </li>
    <li>
        JavaScript 内部，字符以 UTF-16 的格式储存，每个字符固定为2个字节。<br/>
        对于那些需要4个字节储存的字符（Unicode 码点大于0xFFFF的字符），JavaScript 会认为它们是两个字符。<br/>
        "𠮷"的码点是0x20BB7，UTF-16 编码为0xD842 0xDFB7（十进制为55362 57271），需要4个字节储存。<br/>
        对于这种4个字节的字符，JavaScript 不能正确处理，字符串长度会误判为2，而且charAt方法无法读取整个字符。<br/>
        charCodeAt方法只能分别返回前两个字节和后两个字节的值。<br/>
        <samp>
            "𠮷".length // 2<br/>
            "𠮷".charAt(0) // ''<br/>
            "𠮷".charAt(1) // ''<br/>
            "𠮷".charCodeAt(0) // 55362<br/>
            "𠮷".charCodeAt(1) // 57271<br/>
        </samp>
    </li>
    <li>
        ES6 提供了codePointAt方法，能够正确处理 4 个字节储存的字符，返回一个字符的码点。<br/>
        <samp>
            "𠮷a".codePointAt(0) //134071，JavaScript 将“𠮷a”视为三个字符，codePointAt 方法在第一个字符上，正确地识别了“𠮷”，返回了它的十进制码点 134071（即十六进制的20BB7）。<br/>
            //在第二个字符（即“𠮷”的后两个字节）和第三个字符“a”上，codePointAt方法的结果与charCodeAt方法相同。<br/>
            "𠮷a".codePointAt(1) // 57271<br/>
            "𠮷a".codePointAt(2) // 97
        </samp>
    </li>
    <li>
        字符串遍历接口。<br/>
        <samp>
            for (let codePoint of 'abc') { console.log(codePoint) }
        </samp>
    </li>
    <li>
        模板字符串。<br/>
        如果使用模板字符串表示多行字符串，所有的空格和缩进都会被保留在输出之中。<br/>
        大括号内部可以放入任意的 JavaScript 表达式，可以进行运算，以及引用对象属性。<br/>
        模板字符串之中还能调用函数。
        <p id="para1">this is <em>para1</em>. </p>
        <script>let basket={count:100};</script>
        <samp>
            $('#para1').append('There are ' + basket.count + '.');<br/>
            $('#para1').append(`There are ${basket.count}.`);
        </samp>
    </li>
</ol>
</body>
</html>